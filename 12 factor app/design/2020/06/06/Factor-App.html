<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>12 Factor App | continuouslearning</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="12 Factor App" />
<meta name="author" content="Ankush Agarwal" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="12 Factor App" />
<meta property="og:description" content="12 Factor App" />
<link rel="canonical" href="https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html" />
<meta property="og:url" content="https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html" />
<meta property="og:site_name" content="continuouslearning" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-06T00:00:00-05:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Ankush Agarwal"},"description":"12 Factor App","mainEntityOfPage":{"@type":"WebPage","@id":"https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html"},"@type":"BlogPosting","url":"https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html","headline":"12 Factor App","dateModified":"2020-06-06T00:00:00-05:00","datePublished":"2020-06-06T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/continuouslearning/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://ankushagarwal87.github.io/continuouslearning/feed.xml" title="continuouslearning" /><link rel="shortcut icon" type="image/x-icon" href="/continuouslearning/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>12 Factor App | continuouslearning</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="12 Factor App" />
<meta name="author" content="Ankush Agarwal" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="12 Factor App" />
<meta property="og:description" content="12 Factor App" />
<link rel="canonical" href="https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html" />
<meta property="og:url" content="https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html" />
<meta property="og:site_name" content="continuouslearning" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-06T00:00:00-05:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Ankush Agarwal"},"description":"12 Factor App","mainEntityOfPage":{"@type":"WebPage","@id":"https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html"},"@type":"BlogPosting","url":"https://ankushagarwal87.github.io/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html","headline":"12 Factor App","dateModified":"2020-06-06T00:00:00-05:00","datePublished":"2020-06-06T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://ankushagarwal87.github.io/continuouslearning/feed.xml" title="continuouslearning" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/continuouslearning/">continuouslearning</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/continuouslearning/about/">About Me</a><a class="page-link" href="/continuouslearning/search/">Search</a><a class="page-link" href="/continuouslearning/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">12 Factor App</h1><p class="page-description">12 Factor App</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-06-06T00:00:00-05:00" itemprop="datePublished">
        Jun 6, 2020
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Ankush Agarwal</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      6 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/continuouslearning/categories/#12 Factor App">12 Factor App</a>
        &nbsp;
      
        <a class="category-tags-link" href="/continuouslearning/categories/#Design">Design</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          
          
          
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h3"><a href="#I.-Codebase">I. Codebase </a></li>
<li class="toc-entry toc-h3"><a href="#II.-Dependencies">II. Dependencies </a></li>
<li class="toc-entry toc-h3"><a href="#III.-Config">III. Config </a></li>
<li class="toc-entry toc-h3"><a href="#IV.-Backing-services">IV. Backing services </a></li>
<li class="toc-entry toc-h3"><a href="#V.-Build,-release,-run">V. Build, release, run </a></li>
<li class="toc-entry toc-h3"><a href="#VI.-Processes">VI. Processes </a></li>
<li class="toc-entry toc-h3"><a href="#VII.-Port-binding">VII. Port binding </a></li>
<li class="toc-entry toc-h3"><a href="#VIII.-Concurrency">VIII. Concurrency </a></li>
<li class="toc-entry toc-h3"><a href="#IX.-Disposability">IX. Disposability </a></li>
<li class="toc-entry toc-h3"><a href="#X.-Dev/prod-parity">X. Dev/prod parity </a></li>
<li class="toc-entry toc-h3"><a href="#XI.-Logs">XI. Logs </a></li>
<li class="toc-entry toc-h3"><a href="#XII.-Admin-processes">XII. Admin processes </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/12 Factor App.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="I.-Codebase">
<a class="anchor" href="#I.-Codebase" aria-hidden="true"><span class="octicon octicon-link"></span></a>I. Codebase<a class="anchor-link" href="#I.-Codebase"> </a>
</h3>
<pre><code>One codebase tracked in revision control, many deploys
Multiple apps sharing the same code is a violation of twelve-factor. 
The solution here is to factor shared code into libraries which can be included through 
    the dependency manager.
A deploy is a running instance of the app. This is typically a production site, and one or 
    more staging sites.

Observations:
    Done for all apps</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="II.-Dependencies">
<a class="anchor" href="#II.-Dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>II. Dependencies<a class="anchor-link" href="#II.-Dependencies"> </a>
</h3>
<pre><code>Explicitly declare and isolate dependencies
The full and explicit dependency specification is applied uniformly to both production and development.

Questions:
Check if any app uses any server dependency for execution
    How easy/difficult to migrate it to another server
    Can we just run build command to do local setup 
    Tivoli agent on server ?
    Data Source configuration ?

Observations:
    Maven take care of dependency in Java
    Virtual env in Python            </code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="III.-Config">
<a class="anchor" href="#III.-Config" aria-hidden="true"><span class="octicon octicon-link"></span></a>III. Config<a class="anchor-link" href="#III.-Config"> </a>
</h3>
<pre><code>Store config in the environment
Strict separation of config from code. 
Config varies substantially across deploys, code does not.    
The twelve-factor app stores config in environment variables (often shortened to env vars or env). 
Env vars are easy to change between deploys without changing any code; unlike config files, 
    there is little chance of them being checked into the code repo accidentally; 
    and unlike custom config files, or other config mechanisms such as Java System Properties, 
    they are a language- and OS-agnostic standard.    
Based on environment application itself point to correct setting

Questions:
    How to manage environment properties, we generally don't track them in codebase 
    Should we keep all properties in codebase with suffix ?

Observations:
    Generally done for environment related properties </code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="IV.-Backing-services">
<a class="anchor" href="#IV.-Backing-services" aria-hidden="true"><span class="octicon octicon-link"></span></a>IV. Backing services<a class="anchor-link" href="#IV.-Backing-services"> </a>
</h3>
<pre><code>Treat backing services as attached resources
A backing service is any service the app consumes over the network as part of its normal operation. 
    Examples include datastores (such as MySQL or CouchDB), messaging/queueing systems 
    (such as RabbitMQ or Beanstalkd),SMTP services for outbound email (such as Postfix), 
    and caching systems (such as Memcached).
To the app, both are attached resources, accessed via a URL or other locator/credentials 
    stored in the config.
A deploy of the twelve-factor app should be able to swap out a local MySQL database with 
    one managed by a third party (such as Amazon RDS) without any changes to the app’s code.

Observations:
    Generally done for all database, queue</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="V.-Build,-release,-run">
<a class="anchor" href="#V.-Build,-release,-run" aria-hidden="true"><span class="octicon octicon-link"></span></a>V. Build, release, run<a class="anchor-link" href="#V.-Build,-release,-run"> </a>
</h3>
<pre><code>Strictly separate build and run stages    
The twelve-factor app uses strict separation between the build, release, and run stages. 
    For example, it is impossible to make changes to the code at runtime, 
    since there is no way to propagate those changes back to the build stage.

Observations:
    Generally done for all apps</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="VI.-Processes">
<a class="anchor" href="#VI.-Processes" aria-hidden="true"><span class="octicon octicon-link"></span></a>VI. Processes<a class="anchor-link" href="#VI.-Processes"> </a>
</h3>
<pre><code>Execute the app as one or more stateless processes
Twelve-factor processes are stateless and share-nothing. 
Any data that needs to persist must be stored in a stateful backing service, typically a database.
The twelve-factor app never assumes that anything cached in memory or on disk 
    will be available on a future request or job        
Some web systems rely on “sticky sessions” – that is, caching user session data in memory
    of the app’s process and expecting future requests from the same visitor to be routed 
    to the same process. 
Sticky sessions are a violation of twelve-factor and should never be used or relied upon. 
Session state data is a good candidate for a datastore that offers time-expiration, 
    such as Memcached or Redis.

Observation:
       Generally done for all apps</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="VII.-Port-binding">
<a class="anchor" href="#VII.-Port-binding" aria-hidden="true"><span class="octicon octicon-link"></span></a>VII. Port binding<a class="anchor-link" href="#VII.-Port-binding"> </a>
</h3>
<pre><code>Export services via port binding
The twelve-factor app is completely self-contained and does not rely on runtime injection 
    of a webserver into the execution environment to create a web-facing service
The web app exports HTTP as a service by binding to a port, and listening to requests
    coming in on that port.        
Spring Boot, apart from many other benefits, provides us with a default embedded application server. 
Hence, the JAR we generated earlier using Maven is fully capable of executing in any 
    environment just by having a compatible Java runtime

Observations:
    Work fine for Sprint Boot application - don't need any runtime container</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="VIII.-Concurrency">
<a class="anchor" href="#VIII.-Concurrency" aria-hidden="true"><span class="octicon octicon-link"></span></a>VIII. Concurrency<a class="anchor-link" href="#VIII.-Concurrency"> </a>
</h3>
<pre><code>Scale out via the process model
Application must also be able to span multiple processes running on multiple physical machines.
The share-nothing, horizontally partitionable nature of twelve-factor app processes means that 
    adding more concurrency is a simple and reliable operation.

Observation:
    Genrally done for all handler applications

Question:
    How to achieve it in Batch mode</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="IX.-Disposability">
<a class="anchor" href="#IX.-Disposability" aria-hidden="true"><span class="octicon octicon-link"></span></a>IX. Disposability<a class="anchor-link" href="#IX.-Disposability"> </a>
</h3>
<pre><code>Maximize robustness with fast startup and graceful shutdown
The twelve-factor app’s processes are disposable, meaning they can be started or stopped 
    at a moment’s notice. 
This facilitates fast elastic scaling, rapid deployment of code or config changes, 
    and robustness of production deploys.
The application should expose idempotent services. 
This gives the flexibility to stop, move, or spin new services at any time without any other considerations.

Observations:
    Generally done for all applications

Question:
    If any handler is processing request from queue will it stay in queue or thrown away.</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="X.-Dev/prod-parity">
<a class="anchor" href="#X.-Dev/prod-parity" aria-hidden="true"><span class="octicon octicon-link"></span></a>X. Dev/prod parity<a class="anchor-link" href="#X.-Dev/prod-parity"> </a>
</h3>
<pre><code>Keep development, staging, and production as similar as possible

The time gap: A developer may work on code that takes days, weeks, or even months to go into production.
The personnel gap: Developers write code, ops engineers deploy it.
The tools gap: Developers may be using a stack like Nginx, SQLite, and OS X, while the production deploy 
    uses Apache, MySQL, and Linux

The twelve-factor app is designed for continuous deployment by keeping the gap between 
    development and production small. Looking at the three gaps described above:        

Make the time gap small: a developer may write code and have it deployed hours or even just minutes later.
Make the personnel gap small: developers who wrote code are closely involved in deploying it and watching 
    its behavior in production.
Make the tools gap small: keep development and production as similar as possible.

All deploys of the app (developer environments, staging, production) should be using the same type and 
    version of each of the backing services.

Observation:
    Time gap can be improved</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="XI.-Logs">
<a class="anchor" href="#XI.-Logs" aria-hidden="true"><span class="octicon octicon-link"></span></a>XI. Logs<a class="anchor-link" href="#XI.-Logs"> </a>
</h3>
<pre><code>Treat logs as event streams
A twelve-factor app never concerns itself with routing or storage of its output stream. 
It should not attempt to write to or manage logfiles. 
Instead, each running process writes its event stream, unbuffered, to stdout. 
During local development, the developer will view this stream in the foreground of their 
    terminal to observe the app’s behavior.
The capture, storage, curation, and archival of such stream should be handled by the execution environment.
To begin with, we can use SLF4J to handle logging abstractly within our application. 
Moreover, we can use a tool like Fluentd to collect the stream of logs from applications and backing services.
This we can feed into Elasticsearch for storage and indexing. 
Finally, we can generate meaningful dashboards for visualization in Kibana.

Observations:
    Generally application log data

Question:
    What are the alternative to achieve this.</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="XII.-Admin-processes">
<a class="anchor" href="#XII.-Admin-processes" aria-hidden="true"><span class="octicon octicon-link"></span></a>XII. Admin processes<a class="anchor-link" href="#XII.-Admin-processes"> </a>
</h3>
<pre><code>Run admin/management tasks as one-off processes
The twelve-factor methodology strongly suggests keeping such admin scripts together with the 
    application codebase. 
In doing so, it should follow the same principles as we apply to the main application codebase. 
It's also advisable to use a built-in REPL tool of the execution environment to run such scripts 
    on production servers.</code></pre>

</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="ankushagarwal87/continuouslearning"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/continuouslearning/12%20factor%20app/design/2020/06/06/Factor-App.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/continuouslearning/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/continuouslearning/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/continuouslearning/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/ankushagarwal87" title="ankushagarwal87"><svg class="svg-icon grey"><use xlink:href="/continuouslearning/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/ankushagarwal87" title="ankushagarwal87"><svg class="svg-icon grey"><use xlink:href="/continuouslearning/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
